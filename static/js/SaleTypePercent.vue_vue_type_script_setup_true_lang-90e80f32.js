import{i}from"./index-5972638f.js";import{a as c}from"./index-b8662f66.js";import{d,h as s,k as p,r as f,o as m,m as u,w as l,x as h,f as _,O as v}from"./index-456a83bc.js";const S=d({__name:"SaleTypePercent",props:{className:{type:String,default:""}},setup(n){const t=s(),a=s();return p(async()=>{a.value=i(t.value),window.addEventListener("resize",()=>{var e;(e=a.value)==null||e.resize()});const{data:r,error:o}=await c.query({operationName:"Statistics/SaleTypePercent"});o||a.value.setOption({tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:r.data.map(e=>({name:e.typeName,value:e.totalSales}))}]})}),(r,o)=>{const e=f("el-card");return m(),u(e,null,{header:l(()=>[h("销售额类别占比")]),default:l(()=>[_("div",{ref_key:"chartElRef",ref:t,class:v([n.className,"h-60"])},null,2)]),_:1})}}});export{S as _};
